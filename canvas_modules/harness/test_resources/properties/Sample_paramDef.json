{
  "currentParameters": {
    "mode": "Include",
    "sample_type": "First",
    "first_n": 100,
    "one_in_n": 100,
    "rand_pct": 50,
    "use_max_size": true,
    "maximum_size": 10000
  },
  "parameters": [
    {
      "name": "mode",
      "enum": [
        "Include",
        "Discard"
      ],
      "default": "Include"
    },
    {
      "name": "sample_type",
      "enum": [
        "First",
        "OneInN",
        "RandomPct"
      ],
      "default": "First"
    },
    {
      "name": "first_n",
      "type": "integer",
      "default": 1000
    },
    {
      "name": "one_in_n",
      "type": "integer",
      "default": 10
    },
    {
      "name": "rand_pct",
      "type": "double",
      "default": 50
    },
    {
      "name": "use_max_size",
      "type": "boolean",
      "default": false
    },
    {
      "name": "maximum_size",
      "type": "integer",
      "default": 10000
    }
  ],
  "uihints": {
    "name": "sample",
    "icon": "./sample.svg",
    "parameter_info": [
      {
        "name": "mode",
        "label": {
          "default": "Mode",
          "resourceKey": "sample_mode.label"
        },
        "description": {
          "default": "Include or discard rows",
          "resourceKey": "sample_mode.desc"
        },
        "orientation": "horizontal"
      },
      {
        "name": "sample_type",
        "label": {
          "default": "Sample"
        },
        "description": {
          "default": "Select the sampling method"
        },
        "orientation": "horizontal"
      },
      {
        "name": "first_n",
        "label": {
          "default": "First n"
        },
        "description": {
          "default": "Select the first n rows"
        }
      },
      {
        "name": "one_in_n",
        "label": {
          "default": "One in n"
        },
        "description": {
          "default": "Select one row for every n rows"
        }
      },
      {
        "name": "rand_pct",
        "label": {
          "default": "Random %"
        },
        "description": {
          "default": "Select a random percentage of rows"
        }
      },
      {
        "name": "use_max_size",
        "label": {
          "default": "Use maximum sample size",
          "resourceKey": "use_max_sample_size.label"
        },
        "description": {
          "default": "Set a maximum for the number of sampled rows",
          "resourceKey": "use_max_sample_size.desc"
        },
				"separator": "before"
      },
      {
        "name": "maximum_size",
        "label": {
          "default": "Maximum sample size",
          "resourceKey": "max_sample_size.label"
        },
        "description": {
          "default": "Set the maximum number of sampled rows",
          "resourceKey": "max_sample_size.desc"
        }
      }
    ],
    "group_info": [
      {
        "name": "basic-settings",
        "label": {
          "default": "Settings"
        },
        "parameters": [
          "mode",
          "sample_type"
        ],
        "group_info": [
          {
            "name": "mode-settings",
            "type": "panelSelector",
            "depends_on": "sample_type",
            "group_info": [
              {
                "name": "First",
                "parameters": [
                  "first_n"
                ]
              },
              {
                "name": "OneInN",
                "parameters": [
                  "one_in_n"
                ]
              },
              {
                "name": "RandomPct",
                "parameters": [
                  "rand_pct"
                ]
              }
            ]
          },
          {
            "name": "size-settings",
            "parameters": [
              "use_max_size",
              "maximum_size"
            ]
          }
        ]
      }
    ],
    "conditions": [
      {
        "validation": {
          "fail-message": {
            "type": "error",
            "resourceKey": "rand_pct_not_empty",
            "focusParam": "rand_pct"
          },
          "evaluate": {
            "or": [
              {
                "condition": {
                  "param": "sample_type",
                  "op": "NotEquals",
                  "value": "RandomPct"
                }
              },
              {
                "and": [
                  {
                    "condition": {
                      "param": "rand_pct",
                      "op": "isNotEmpty"
                    }
                  }
                ]
              }
            ]
          }
        }
      },
      {
        "enabled": {
          "paramNames": [
            "maximum_size"
          ],
          "evaluate": {
            "condition": {
              "param": "use_max_size",
              "op": "Equals",
              "value": true
            }
          }
        }
      }
    ]
  },
  "resources": {
    "basic-settings.label": "Settings",
    "basic-settings.desc": "Basic settings",
    "sample.label": "Sample",
    "sample_mode.label": "Mode",
    "sample_mode.desc": "Include or discard rows",
    "sample_type.label": "Sample",
    "sample_type.desc": "Select the sampling method",
    "first_n.label": "First n",
    "first_n.desc": "Select the first n rows",
    "one_in_n.label": "One in n",
    "one_in_n.desc": "Select one row for every n rows",
    "rand_pct.label": "Random %",
    "rand_pct.desc": "Select a random percentage of rows",
    "use_max_sample_size.label": "Use maximum sample size",
    "use_max_sample_size.desc": "Set a maximum for the number of sampled rows",
    "max_sample_size.label": "Maximum sample size",
    "max_sample_size.desc": "Set the maximum number of sampled rows",
    "first_n_not_empty": "The first n value cannot be empty",
    "one_in_n_not_empty": "The one in n value cannot be empty",
    "rand_pct_not_empty": "The random percent value cannot be empty"
  }
}
