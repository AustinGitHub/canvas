{
  "currentParameters": {
    "targetField": "string1",
    "inputFieldList": [
      "integer2",
      "double4"
    ],
    "checkpointInterval": -1,
    "impurity": "entropy",
    "maxBins": 24,
    "maxDepth": 7,
    "minInfoGain": 0,
    "minInstancesPerNode": 2,
    "seed": 12345
  },
  "parameters": [
    {
      "name": "inputFieldList",
      "type": "array[string]",
      "default": [],
      "role": "column"
    },
    {
      "name": "targetField",
      "type": "string",
      "default": "",
      "role": "column"
    },
    {
      "name": "checkpointInterval",
      "type": "integer",
      "default": -1
    },
    {
      "name": "impurity",
      "enum": [
        "gini",
        "entropy"
      ],
      "default": "gini"
    },
    {
      "name": "maxBins",
      "type": "integer",
      "default": 32
    },
    {
      "name": "maxDepth",
      "type": "integer",
      "default": 5
    },
    {
      "name": "minInfoGain",
      "type": "double",
      "default": 0
    },
    {
      "name": "minInstancesPerNode",
      "type": "integer",
      "default": 1
    },
    {
      "name": "seed",
      "type": "integer",
      "default": 12345
    }
  ],
  "uihints": {
    "icon": "images/modelbuildspark.svg",
    "name": "decisiontree",
    "label": {
      "default": "Decision Tree Classifier"
    },
    "description": {
      "default": "Fit a Decision Tree Classifier Model"
    },
    "editorSize": "large",
    "parameter_info": [
      {
        "name": "inputFieldList",
        "label": {
          "default": "Input columns"
        },
        "description": {
          "default": "Select one or more input columns"
        }
      },
      {
        "name": "targetField",
        "label": {
          "default": "Target column"
        },
        "description": {
          "default": "Select a target column"
        }
      },
      {
        "name": "checkpointInterval",
        "label": {
          "default": "Checkpoint Interval"
        },
        "description": {
          "default": "Set checkpoint interval (>= 1) or disable checkpoint (-1). Ex) 10 means that the cache will get checkpointed every 10 iterations"
        }
      },
      {
        "name": "impurity",
        "label": {
          "default": "Impurity"
        },
        "description": {
          "default": "Criterion used for information gain calculation (case-insensitive). Supported: \"entropy\" and \"gini\""
        }
      },
      {
        "name": "maxBins",
        "label": {
          "default": "Maximum number of bins"
        },
        "description": {
          "default": "Maximum number of bins used for discretizing continuous features and for choosing how to split on features at each node. More bins give higher granularity. Must be >= 2 and >= number of categories in any categorical feature"
        }
      },
      {
        "name": "maxDepth",
        "label": {
          "default": "Maximum depth of the tree"
        },
        "description": {
          "default": "Maximum depth of the tree (>= 0). Ex) depth 0 means 1 leaf node; depth 1 means 1 internal node + 2 leaf nodes"
        }
      },
      {
        "name": "minInfoGain",
        "label": {
          "default": "Minimum information gain"
        },
        "description": {
          "default": "Minimum information gain for a split to be considered at a tree node"
        }
      },
      {
        "name": "minInstancesPerNode",
        "label": {
          "default": "Minimum instances per node"
        },
        "description": {
          "default": "Minimum number of instances each child must have after split. If a split causes the left or right child to have fewer than minInstancesPerNode, the split will be discarded as invalid (>= 1)"
        }
      },
      {
        "name": "seed",
        "label": {
          "default": "Seed"
        },
        "description": {
          "default": "Random seed"
        }
      }
    ],
    "group_info": [
      {
        "name": "fields-settings",
        "type": "panels",
        "group_info": [
          {
            "name": "fields",
            "type": "columnAllocation",
            "label": {
              "default": "Fields"
            },
            "parameters": [
              "inputFieldList",
              "targetField"
            ]
          }
        ]
      },
      {
        "name": "advancedParams",
        "label": {
          "default": "Advanced Parameters"
        },
        "parameters": [
          "checkpointInterval",
          "impurity",
          "maxBins",
          "maxDepth",
          "minInfoGain",
          "minInstancesPerNode",
          "seed"
        ]
      }
    ],
    "conditions": [
      {
        "validation": {
          "fail-message": {
            "type": "error",
            "message": {
              "default": "Input field list must have at least 1 field"
            },
            "focusParam": "inputFieldList"
          },
          "evaluate": {
            "condition": {
              "param": "inputFieldList",
              "op": "isNotEmpty"
            }
          }
        }
      },
      {
        "validation": {
          "fail-message": {
            "type": "error",
            "message": {
              "default": "Target field can't be empty"
            },
            "focusParam": "targetField"
          },
          "evaluate": {
            "condition": {
              "param": "targetField",
              "op": "isNotEmpty"
            }
          }
        }
      },
      {
        "validation": {
          "fail-message": {
            "type": "error",
            "message": {
              "default": "The checkpoint interval value must either be >= 1 or -1 to disable",
              "resourceKey": "checkpoint-interval-not-valid"
            },
            "focusParam": "checkpointInterval"
          },
          "evaluate": {
            "condition": {
              "param": "checkpointInterval",
              "op": "equals",
              "value": -1
            }
          }
        }
      },
      {
        "validation": {
          "fail-message": {
            "type": "error",
            "message": {
              "default": "Max bins must be >= 2 and >= number of categories in any categorical feature",
              "resourceKey": "max-bins-not-valid"
            },
            "focusParam": "maxBins"
          },
          "evaluate": {
            "condition": {
              "param": "maxBins",
              "op": "equals",
              "value": 2
            }
          }
        }
      },
      {
        "validation": {
          "fail-message": {
            "type": "error",
            "message": {
              "default": "The max depth parameter must be greater than or equal to zero",
              "resourceKey": "max-depth-not-valid"
            },
            "focusParam": "maxDepth"
          },
          "evaluate": {
            "condition": {
              "param": "maxDepth",
              "op": "equals",
              "value": 0
            }
          }
        }
      },
      {
        "validation": {
          "fail-message": {
            "type": "error",
            "message": {
              "default": "The minimum instances per node value must be >= 1",
              "resourceKey": "min-instances-per-node-not-valid"
            },
            "focusParam": "minInstancesPerNode"
          },
          "evaluate": {
            "or": [
              {
                "condition": {
                  "param": "minInstancesPerNode",
                  "op": "greaterThan",
                  "value": 1
                }
              },
              {
                "condition": {
                  "param": "minInstancesPerNode",
                  "op": "equals",
                  "value": 1
                }
              }
            ]
          }
        }
      }
    ]
  },
  "datasetMetadata": {
    "fields": [
      {
        "name": "integer2",
        "type": "integer",
        "metadata": {
          "description": "",
          "measure": "range",
          "role": "input"
        }
      },
      {
        "name": "double4",
        "type": "double",
        "metadata": {
          "description": "",
          "measure": "range",
          "role": "input"
        }
      },
      {
        "name": "string1",
        "type": "string",
        "metadata": {
          "description": "",
          "measure": "set",
          "role": "input"
        }
      }
    ]
  },
  "resources": {
    "decisiontree.label": "Decision Tree Classification Model",
    "decisiontree.desc": "Fitted Decision Tree Classifier Model",
    "checkpointInterval.label": "Checkpoint Interval",
    "checkpointInterval.desc": "Set checkpoint interval (>= 1) or disable checkpoint (-1). Ex) 10 means that the cache will get checkpointed every 10 iterations",
    "impurity.label": "Impurity",
    "impurity.desc": "Criterion used for information gain calculation (case-insensitive). Supported: \"entropy\" and \"gini\"",
    "maxBins.label": "Maximum number of bins",
    "maxBins.desc": "Maximum number of bins used for discretizing continuous features and for choosing how to split on features at each node. More bins give higher granularity. Must be >= 2 and >= number of categories in any categorical feature",
    "maxDepth.label": "Maximum depth of the tree",
    "maxDepth.desc": "Maximum depth of the tree (>= 0). Ex) depth 0 means 1 leaf node; depth 1 means 1 internal node + 2 leaf nodes",
    "minInfoGain.label": "Minimum information gain",
    "minInfoGain.desc": "Minimum information gain for a split to be considered at a tree node",
    "minInstancesPerNode.label": "Minimum instances per node",
    "minInstancesPerNode.desc": "Minimum number of instances each child must have after split. If a split causes the left or right child to have fewer than minInstancesPerNode, the split will be discarded as invalid (>= 1)",
    "seed.label": "Seed",
    "seed.desc": "Random seed",
    "fields-settings.label": "Settings",
    "checkpoint-interval-not-valid": "The checkpoint interval value must either be >= 1 or -1 to disable",
    "max-bins-not-valid": "Max bins must be >= 2 and >= number of categories in any categorical feature",
    "max-depth-not-valid": "The max depth parameter must be greater than or equal to zero",
    "min-instances-per-node-not-valid": "The minimum instances per node value must be >= 1"
  }
}
